var t,e,r,n=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(t,e)=>function(){return e||(0,t[a(t)[0]])((e={exports:{}}).exports,e),e.exports;},h=(t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of a(e))u.call(t,o)||o===r||i(t,o,{get:()=>e[o],enumerable:!(n=s(e,o))||n.enumerable});return t;},f=(t,e,r)=>(r=null!=t?n(o(t)):{},h(// If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    !e&&t&&t.__esModule?r:i(r,"default",{value:t,enumerable:!0}),t)),c=l({"../../../node_modules/dataloader/index.js"(t,e){var r,n=/* @__PURE__ */function(){function t(t,e){if("function"!=typeof t)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._maxBatchSize=function(t){if(!(!t||!1!==t.batch))return 1;var e=t&&t.maxBatchSize;if(void 0===e)return 1/0;if("number"!=typeof e||e<1)throw TypeError("maxBatchSize must be a positive number: "+e);return e;}(e),this._batchScheduleFn=function(t){var e=t&&t.batchScheduleFn;if(void 0===e)return i;if("function"!=typeof e)throw TypeError("batchScheduleFn must be a function: "+e);return e;}(e),this._cacheKeyFn=function(t){var e=t&&t.cacheKeyFn;if(void 0===e)return function(t){return t;};if("function"!=typeof e)throw TypeError("cacheKeyFn must be a function: "+e);return e;}(e),this._cacheMap=function(t){if(!(!t||!1!==t.cache))return null;var e=t&&t.cacheMap;if(void 0===e)return /* @__PURE__ */new Map;if(null!==e){var r=["get","set","delete","clear"].filter(function(t){return e&&"function"!=typeof e[t];});if(0!==r.length)throw TypeError("Custom cacheMap missing methods: "+r.join(", "));}return e;}(e),this._batch=null,this.name=e&&e.name?e.name:null;}var e=t.prototype;return e.load=function(t){if(null==t)throw TypeError("The loader.load() function must be called with a value, but got: "+String(t)+".");var e=function(t){var e=t._batch;if(null!==e&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=r,t._batchScheduleFn(function(){(function(t,e){var r;if(e.hasDispatched=!0,0===e.keys.length){a(e);return;}try{r=t._batchLoadFn(e.keys);}catch(r){return s(t,e,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(r)+"."));}if(!r||"function"!=typeof r.then)return s(t,e,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(r)+"."));r.then(function(t){if(!o(t))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(t)+".");if(t.length!==e.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(e.keys)+"\n\nValues:\n"+String(t));a(e);for(var r=0;r<e.callbacks.length;r++){var n=t[r];n instanceof Error?e.callbacks[r].reject(n):e.callbacks[r].resolve(n);}}).catch(function(r){s(t,e,r);});})(t,r);}),r;}(this),r=this._cacheMap,n=this._cacheKeyFn(t);if(r){var i=r.get(n);if(i){var u=e.cacheHits||(e.cacheHits=[]);return new Promise(function(t){u.push(function(){t(i);});});}}e.keys.push(t);var l=new Promise(function(t,r){e.callbacks.push({resolve:t,reject:r});});return r&&r.set(n,l),l;},e.loadMany=function(t){if(!o(t))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+t+".");for(var e=[],r=0;r<t.length;r++)e.push(this.load(t[r]).catch(function(t){return t;}));return Promise.all(e);},e.clear=function(t){var e=this._cacheMap;if(e){var r=this._cacheKeyFn(t);e.delete(r);}return this;},e.clearAll=function(){var t=this._cacheMap;return t&&t.clear(),this;},e.prime=function(t,e){var r=this._cacheMap;if(r){var n,i=this._cacheKeyFn(t);void 0===r.get(i)&&(e instanceof Error?(n=Promise.reject(e)).catch(function(){}):n=Promise.resolve(e),r.set(i,n));}return this;},t;}(),i="object"==typeof process&&"function"==typeof process.nextTick?function(t){r||(r=Promise.resolve()),r.then(function(){process.nextTick(t);});}:"function"==typeof setImmediate?function(t){setImmediate(t);}:function(t){setTimeout(t);};function s(t,e,r){a(e);for(var n=0;n<e.keys.length;n++)t.clear(e.keys[n]),e.callbacks[n].reject(r);}function a(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]();}function o(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&(0===t.length||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1));}e.exports=n;}}),g=l({"../../../node_modules/whatwg-mimetype/lib/utils.js"(t){t.removeLeadingAndTrailingHTTPWhitespace=t=>t.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,""),t.removeTrailingHTTPWhitespace=t=>t.replace(/[ \t\n\r]+$/u,""),t.isHTTPWhitespaceChar=t=>" "===t||"	"===t||"\n"===t||"\r"===t,t.solelyContainsHTTPTokenCodePoints=t=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(t),t.soleyContainsHTTPQuotedStringTokenCodePoints=t=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(t),t.asciiLowercase=t=>t.replace(/[A-Z]/ug,t=>t.toLowerCase()),t.collectAnHTTPQuotedString=(t,e)=>{let r="";for(e++;;){for(;e<t.length&&'"'!==t[e]&&"\\"!==t[e];)r+=t[e],++e;if(e>=t.length)break;let n=t[e];if(++e,"\\"===n){if(e>=t.length){r+="\\";break;}r+=t[e],++e;}else break;}return[r,e];};}}),d=l({"../../../node_modules/whatwg-mimetype/lib/mime-type-parameters.js"(t,e){var{asciiLowercase:r,solelyContainsHTTPTokenCodePoints:n,soleyContainsHTTPQuotedStringTokenCodePoints:i}=g();e.exports=class{get size(){return this._map.size;}get(t){return t=r(String(t)),this._map.get(t);}has(t){return t=r(String(t)),this._map.has(t);}set(t,e){if(t=r(String(t)),e=String(e),!n(t))throw Error(`Invalid MIME type parameter name "${t}": only HTTP token code points are valid.`);if(!i(e))throw Error(`Invalid MIME type parameter value "${e}": only HTTP quoted-string token code points are valid.`);return this._map.set(t,e);}clear(){this._map.clear();}delete(t){return t=r(String(t)),this._map.delete(t);}forEach(t,e){this._map.forEach(t,e);}keys(){return this._map.keys();}values(){return this._map.values();}entries(){return this._map.entries();}[Symbol.iterator](){return this._map[Symbol.iterator]();}constructor(t){this._map=t;}};}}),p=l({"../../../node_modules/whatwg-mimetype/lib/parser.js"(t,e){var{removeLeadingAndTrailingHTTPWhitespace:r,removeTrailingHTTPWhitespace:n,isHTTPWhitespaceChar:i,solelyContainsHTTPTokenCodePoints:s,soleyContainsHTTPQuotedStringTokenCodePoints:a,asciiLowercase:o,collectAnHTTPQuotedString:u}=g();e.exports=t=>{t=r(t);let e=0,l="";for(;e<t.length&&"/"!==t[e];)l+=t[e],++e;if(0===l.length||!s(l)||e>=t.length)return null;++e;let h="";for(;e<t.length&&";"!==t[e];)h+=t[e],++e;if(0===(h=n(h)).length||!s(h))return null;let f={type:o(l),subtype:o(h),parameters:/* @__PURE__ */new Map};for(;e<t.length;){for(++e;i(t[e]);)++e;let r="";for(;e<t.length&&";"!==t[e]&&"="!==t[e];)r+=t[e],++e;if(r=o(r),e<t.length){if(";"===t[e])continue;++e;}let l=null;if('"'===t[e])for([l,e]=u(t,e);e<t.length&&";"!==t[e];)++e;else{for(l="";e<t.length&&";"!==t[e];)l+=t[e],++e;if(""===(l=n(l)))continue;}r.length>0&&s(r)&&a(l)&&!f.parameters.has(r)&&f.parameters.set(r,l);}return f;};}}),y=l({"../../../node_modules/whatwg-mimetype/lib/serializer.js"(t,e){var{solelyContainsHTTPTokenCodePoints:r}=g();e.exports=t=>{let e=`${t.type}/${t.subtype}`;if(0===t.parameters.size)return e;for(let[n,i]of t.parameters)e+=";"+n+"=",r(i)&&0!==i.length||(i=i.replace(/(["\\])/ug,"\\$1"),i=`"${i}"`),e+=i;return e;};}}),v=l({"../../../node_modules/whatwg-mimetype/lib/mime-type.js"(t,e){var r=d(),n=p(),i=y(),{asciiLowercase:s,solelyContainsHTTPTokenCodePoints:a}=g();e.exports=class{static parse(t){try{return new this(t);}catch(t){return null;}}get essence(){return`${this.type}/${this.subtype}`;}get type(){return this._type;}set type(t){if(0===(t=s(String(t))).length)throw Error("Invalid type: must be a non-empty string");if(!a(t))throw Error(`Invalid type ${t}: must contain only HTTP token code points`);this._type=t;}get subtype(){return this._subtype;}set subtype(t){if(0===(t=s(String(t))).length)throw Error("Invalid subtype: must be a non-empty string");if(!a(t))throw Error(`Invalid subtype ${t}: must contain only HTTP token code points`);this._subtype=t;}get parameters(){return this._parameters;}toString(){return i(this);}isJavaScript({prohibitParameters:t=!1}={}){switch(this._type){case"text":switch(this._subtype){case"ecmascript":case"javascript":case"javascript1.0":case"javascript1.1":case"javascript1.2":case"javascript1.3":case"javascript1.4":case"javascript1.5":case"jscript":case"livescript":case"x-ecmascript":case"x-javascript":return!t||0===this._parameters.size;default:return!1;}case"application":switch(this._subtype){case"ecmascript":case"javascript":case"x-ecmascript":case"x-javascript":return!t||0===this._parameters.size;default:return!1;}default:return!1;}}isXML(){return"xml"===this._subtype&&("text"===this._type||"application"===this._type)||this._subtype.endsWith("+xml");}isHTML(){return"html"===this._subtype&&"text"===this._type;}constructor(t){t=String(t);let e=n(t);if(null===e)throw Error(`Could not parse MIME type string "${t}"`);this._type=e.type,this._subtype=e.subtype,this._parameters=new r(e.parameters);}};}}),m=f(c()),w={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},b=class{getOffset(){return this.offset;}ensureLength(t){let e=this.bytes.length;if(!(this.offset+t<=e))throw Error("Reading out of bounds");}readUint8(){let t=w.Uint8;this.ensureLength(t);let e=this.view.getUint8(this.offset);return this.offset+=t,e;}readUint16(){let t=w.Uint16;this.ensureLength(t);let e=this.view.getUint16(this.offset);return this.offset+=t,e;}readUint32(){let t=w.Uint32;this.ensureLength(t);let e=this.view.getUint32(this.offset);return this.offset+=t,e;}readUint64(){let t=this.readBigUint64();return Number(t);}readBigUint64(){let t=w.BigUint64;this.ensureLength(t);let e=this.view.getBigUint64(this.offset);return this.offset+=t,e;}readInt8(){let t=w.Int8;this.ensureLength(t);let e=this.view.getInt8(this.offset);return this.offset+=t,e;}readInt16(){let t=w.Int16;this.ensureLength(t);let e=this.view.getInt16(this.offset);return this.offset+=t,e;}readInt32(){let t=w.Int32;this.ensureLength(t);let e=this.view.getInt32(this.offset);return this.offset+=t,e;}readInt64(){let t=this.readBigInt64();return Number(t);}readBigInt64(){let t=w.BigInt64;this.ensureLength(t);let e=this.view.getBigInt64(this.offset);return this.offset+=t,e;}readFloat32(){let t=w.Float32;this.ensureLength(t);let e=this.view.getFloat32(this.offset);return this.offset+=t,e;}readFloat64(){let t=w.Float64;this.ensureLength(t);let e=this.view.getFloat64(this.offset);return this.offset+=t,e;}readBytes(t){let e=this.offset,r=e+t,n=this.bytes.subarray(e,r);return this.offset=r,n;}readString(){let t=this.readUint32(),e=this.readBytes(t);return this.decoder.decode(e);}readJson(){let t=this.readString();return JSON.parse(t);}constructor(t){this.bytes=t,this.offset=0,this.view=I(this.bytes),this.decoder=new TextDecoder;}};function I(t){return new DataView(t.buffer,t.byteOffset,t.byteLength);}// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
import{ControlType as U}from"framer";// src/code-generation/components/cms/bundled/assert.ts
function k(t,...e){if(!t)throw Error("Assertion Error"+(e.length>0?": "+e.join(" "):""));}function S(t){throw Error(`Unexpected value: ${t}`);}// ../../../node_modules/fflate/esm/browser.js
var E=Uint8Array,M=Uint16Array,T=Int32Array,L=new E([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,/* unused */0,0,/* impossible */0]),_=new E([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,/* unused */0,0]),B=new E([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=function(t,e){for(var r=new M(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new T(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i};},C=x(L,2),A=C.b,F=C.r;A[28]=258,F[258]=28;var P=x(_,0),j=P.b,D=P.r,N=new M(32768);for(e=0;e<32768;++e)t=(61680&(t=(52428&(t=(43690&e)>>1|(21845&e)<<1))>>2|(13107&t)<<2))>>4|(3855&t)<<4,N[e]=((65280&t)>>8|(255&t)<<8)>>1;var $=function(t,e,r){for(var n,i=t.length,s=0,a=new M(e);s<i;++s)t[s]&&++a[t[s]-1];var o=new M(e);for(s=1;s<e;++s)o[s]=o[s-1]+a[s-1]<<1;if(r){n=new M(1<<e);var u=15-e;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],h=e-t[s],f=o[t[s]-1]++<<h,c=f|(1<<h)-1;f<=c;++f)n[N[f]>>u]=l;}else for(s=0,n=new M(i);s<i;++s)t[s]&&(n[s]=N[o[t[s]-1]++]>>15-t[s]);return n;},R=new E(288);for(e=0;e<144;++e)R[e]=8;for(e=144;e<256;++e)R[e]=9;for(e=256;e<280;++e)R[e]=7;for(e=280;e<288;++e)R[e]=8;var O=new E(32);for(e=0;e<32;++e)O[e]=5;var q=/* @__PURE__ */$(R,9,0),z=/* @__PURE__ */$(R,9,1),H=/* @__PURE__ */$(O,5,0),J=/* @__PURE__ */$(O,5,1),W=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e;},G=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(7&e)&r;},K=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&e);},V=function(t){return(t+7)/8|0;},X=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new E(t.subarray(e,r));},Q=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Z=function(t,e,r){var n=Error(e||Q[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Z),!r)throw n;return n;},Y=function(t,e,r,n){var i=t.length,s=n?n.length:0;if(!i||e.f&&!e.l)return r||new E(0);var a=!r,o=a||2!=e.i,u=e.i;a&&(r=new E(3*i));var l=function(t){var e=r.length;if(t>e){var n=new E(Math.max(2*e,t));n.set(r),r=n;}},h=e.f||0,f=e.p||0,c=e.b||0,g=e.l,d=e.d,p=e.m,y=e.n,v=8*i;do{if(!g){h=G(t,f,1);var m=G(t,f+1,3);if(f+=3,m){if(1==m)g=z,d=J,p=9,y=5;else if(2==m){var w=G(t,f,31)+257,b=G(t,f+10,15)+4,I=w+G(t,f+5,31)+1;f+=14;for(var U=new E(I),k=new E(19),S=0;S<b;++S)k[B[S]]=G(t,f+3*S,7);f+=3*b;for(var M=W(k),T=(1<<M)-1,x=$(k,M,1),S=0;S<I;){var C=x[G(t,f,T)];f+=15&C;var F=C>>4;if(F<16)U[S++]=F;else{var P=0,D=0;for(16==F?(D=3+G(t,f,3),f+=2,P=U[S-1]):17==F?(D=3+G(t,f,7),f+=3):18==F&&(D=11+G(t,f,127),f+=7);D--;)U[S++]=P;}}var N=U.subarray(0,w),R=U.subarray(w);p=W(N),y=W(R),g=$(N,p,1),d=$(R,y,1);}else Z(1);}else{var F=V(f)+4,O=t[F-4]|t[F-3]<<8,q=F+O;if(q>i){u&&Z(0);break;}o&&l(c+O),r.set(t.subarray(F,q),c),e.b=c+=O,e.p=f=8*q,e.f=h;continue;}if(f>v){u&&Z(0);break;}}o&&l(c+131072);for(var H=(1<<p)-1,Q=(1<<y)-1,Y=f;;Y=f){var P=g[K(t,f)&H],tt=P>>4;if((f+=15&P)>v){u&&Z(0);break;}if(P||Z(2),tt<256)r[c++]=tt;else if(256==tt){Y=f,g=null;break;}else{var te=tt-254;if(tt>264){var S=tt-257,tr=L[S];te=G(t,f,(1<<tr)-1)+A[S],f+=tr;}var tn=d[K(t,f)&Q],ti=tn>>4;tn||Z(3),f+=15&tn;var R=j[ti];if(ti>3){var tr=_[ti];R+=K(t,f)&(1<<tr)-1,f+=tr;}if(f>v){u&&Z(0);break;}o&&l(c+131072);var ts=c+te;if(c<R){var ta=s-R,to=Math.min(R,ts);for(ta+c<0&&Z(3);c<to;++c)r[c]=n[ta+c];}for(;c<ts;++c)r[c]=r[c-R];}}e.l=g,e.p=Y,e.b=c,e.f=h,g&&(h=1,e.m=p,e.d=d,e.n=y);}while(!h)return c!=r.length&&a?X(r,0,c):r.subarray(0,c);},tt=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8;},te=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16;},tr=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:tl,l:0};if(1==i){var a=new E(r[0].s+1);return a[r[0].s]=1,{t:a,l:1};}r.sort(function(t,e){return t.f-e.f;}),r.push({s:-1,f:25001});var o=r[0],u=r[1],l=0,h=1,f=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=i-1;)o=r[r[l].f<r[f].f?l++:f++],u=r[l!=h&&r[l].f<r[f].f?l++:f++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var c=s[0].s,n=1;n<i;++n)s[n].s>c&&(c=s[n].s);var g=new M(c+1),d=tn(r[h-1],g,0);if(d>e){var n=0,p=0,y=d-e,v=1<<y;for(s.sort(function(t,e){return g[e.s]-g[t.s]||t.f-e.f;});n<i;++n){var m=s[n].s;if(g[m]>e)p+=v-(1<<d-g[m]),g[m]=e;else break;}for(p>>=y;p>0;){var w=s[n].s;g[w]<e?p-=1<<e-g[w]++-1:++n;}for(;n>=0&&p;--n){var b=s[n].s;g[b]==e&&(--g[b],++p);}d=e;}return{t:new E(g),l:d};},tn=function(t,e,r){return -1==t.s?Math.max(tn(t.l,e,r+1),tn(t.r,e,r+1)):e[t.s]=r;},ti=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new M(++e),n=0,i=t[0],s=1,a=function(t){r[n++]=t;},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0);}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0);}for(;s--;)a(i);s=1,i=t[o];}return{c:r.subarray(0,n),n:e};},ts=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r;},ta=function(t,e,r){var n=r.length,i=V(e+2);t[i]=255&n,t[i+1]=n>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8;},to=function(t,e,r,n,i,s,a,o,u,l,h){tt(e,h++,r),++i[256];for(var f,c,g,d,p=tr(i,15),y=p.t,v=p.l,m=tr(s,15),w=m.t,b=m.l,I=ti(y),U=I.c,k=I.n,S=ti(w),E=S.c,T=S.n,x=new M(19),C=0;C<U.length;++C)++x[31&U[C]];for(var C=0;C<E.length;++C)++x[31&E[C]];for(var A=tr(x,7),F=A.t,P=A.l,j=19;j>4&&!F[B[j-1]];--j);var D=l+5<<3,N=ts(i,R)+ts(s,O)+a,z=ts(i,y)+ts(s,w)+a+14+3*j+ts(x,F)+2*x[16]+3*x[17]+7*x[18];if(u>=0&&D<=N&&D<=z)return ta(e,h,t.subarray(u,u+l));if(tt(e,h,1+(z<N)),h+=2,z<N){f=$(y,v,0),c=y,g=$(w,b,0),d=w;var J=$(F,P,0);tt(e,h,k-257),tt(e,h+5,T-1),tt(e,h+10,j-4),h+=14;for(var C=0;C<j;++C)tt(e,h+3*C,F[B[C]]);h+=3*j;for(var W=[U,E],G=0;G<2;++G)for(var K=W[G],C=0;C<K.length;++C){var V=31&K[C];tt(e,h,J[V]),h+=F[V],V>15&&(tt(e,h,K[C]>>5&127),h+=K[C]>>12);}}else f=q,c=R,g=H,d=O;for(var C=0;C<o;++C){var X=n[C];if(X>255){var V=X>>18&31;te(e,h,f[V+257]),h+=c[V+257],V>7&&(tt(e,h,X>>23&31),h+=L[V]);var Q=31&X;te(e,h,g[Q]),h+=d[Q],Q>3&&(te(e,h,X>>5&8191),h+=_[Q]);}else te(e,h,f[X]),h+=c[X];}return te(e,h,f[256]),h+c[256];},tu=/* @__PURE__ */new T([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tl=/* @__PURE__ */new E(0),th=function(t,e,r,n,i,s){var a=s.z||t.length,o=new E(n+a+5*(1+Math.ceil(a/7e3))+i),u=o.subarray(n,o.length-i),l=s.l,h=7&(s.r||0);if(e){h&&(u[0]=s.r>>3);for(var f=tu[e-1],c=f>>13,g=8191&f,d=(1<<r)-1,p=s.p||new M(32768),y=s.h||new M(d+1),v=Math.ceil(r/3),m=2*v,w=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<m)&d;},b=new T(25e3),I=new M(288),U=new M(32),k=0,S=0,B=s.i||0,x=0,C=s.w||0,A=0;B+2<a;++B){var P=w(B),j=32767&B,N=y[P];if(p[j]=N,y[P]=j,C<=B){var $=a-B;if((k>7e3||x>24576)&&($>423||!l)){h=to(t,u,0,b,I,U,S,x,A,B-A,h),x=k=S=0,A=B;for(var R=0;R<286;++R)I[R]=0;for(var R=0;R<30;++R)U[R]=0;}var O=2,q=0,z=g,H=j-N&32767;if($>2&&P==w(B-H))for(var J=Math.min(c,$)-1,W=Math.min(32767,B),G=Math.min(258,$);H<=W&&--z&&j!=N;){if(t[B+O]==t[B+O-H]){for(var K=0;K<G&&t[B+K]==t[B+K-H];++K);if(K>O){if(O=K,q=H,K>J)break;for(var Q=Math.min(H,K-2),Z=0,R=0;R<Q;++R){var Y=B-H+R&32767,tt=p[Y],te=Y-tt&32767;te>Z&&(Z=te,N=Y);}}}N=p[j=N],H+=j-N&32767;}if(q){b[x++]=268435456|F[O]<<18|D[q];var tr=31&F[O],tn=31&D[q];S+=L[tr]+_[tn],++I[257+tr],++U[tn],C=B+O,++k;}else b[x++]=t[B],++I[t[B]];}}for(B=Math.max(B,C);B<a;++B)b[x++]=t[B],++I[t[B]];h=to(t,u,l,b,I,U,S,x,A,B-A,h),l||(s.r=7&h|u[h/8|0]<<3,h-=7,s.h=y,s.p=p,s.i=B,s.w=C);}else{for(var B=s.w||0;B<a+l;B+=65535){var ti=B+65535;ti>=a&&(u[h/8|0]=l,ti=a),h=ta(u,h+1,t.subarray(B,ti));}s.i=a;}return X(o,0,n+V(h)+i);},tf=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new E(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length;}return th(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,i);};function tc(t,e){return tf(t,e||{},0,0);}function tg(t,e){return Y(t,{i:2},e&&e.out,e&&e.dictionary);}var td="undefined"!=typeof TextDecoder&&/* @__PURE__ */new TextDecoder,tp=0;try{td.decode(tl,{stream:!0}),tp=1;}catch(t){}// src/code-generation/components/cms/bundled/BufferWriter.ts
var ty=1024,tv=1.5,tm=t=>2**t-1,tw=t=>-(2**(t-1)),tb=t=>2**(t-1)-1,tI={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:tw(8),Int16:tw(16),Int32:tw(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},tU={Uint8:tm(8),Uint16:tm(16),Uint32:tm(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:tb(8),Int16:tb(16),Int32:tb(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function tk(t,e,r,n){k(t>=e,t,"outside lower bound for",n),k(t<=r,t,"outside upper bound for",n);}var tS=class{getOffset(){return this.offset;}slice(t=0,e=this.offset){return this.bytes.slice(t,e);}subarray(t=0,e=this.offset){return this.bytes.subarray(t,e);}ensureLength(t){let e=this.bytes.length;if(this.offset+t<=e)return;let r=new Uint8Array(Math.ceil(e*tv)+t);r.set(this.bytes),this.bytes=r,this.view=I(r);}writeUint8(t){tk(t,tI.Uint8,tU.Uint8,"Uint8");let e=w.Uint8;this.ensureLength(e),this.view.setUint8(this.offset,t),this.offset+=e;}writeUint16(t){tk(t,tI.Uint16,tU.Uint16,"Uint16");let e=w.Uint16;this.ensureLength(e),this.view.setUint16(this.offset,t),this.offset+=e;}writeUint32(t){tk(t,tI.Uint32,tU.Uint32,"Uint32");let e=w.Uint32;this.ensureLength(e),this.view.setUint32(this.offset,t),this.offset+=e;}writeUint64(t){tk(t,tI.Uint64,tU.Uint64,"Uint64");let e=BigInt(t);this.writeBigUint64(e);}writeBigUint64(t){tk(t,tI.BigUint64,tU.BigUint64,"BigUint64");let e=w.BigUint64;this.ensureLength(e),this.view.setBigUint64(this.offset,t),this.offset+=e;}writeInt8(t){tk(t,tI.Int8,tU.Int8,"Int8");let e=w.Int8;this.ensureLength(e),this.view.setInt8(this.offset,t),this.offset+=e;}writeInt16(t){tk(t,tI.Int16,tU.Int16,"Int16");let e=w.Int16;this.ensureLength(e),this.view.setInt16(this.offset,t),this.offset+=e;}writeInt32(t){tk(t,tI.Int32,tU.Int32,"Int32");let e=w.Int32;this.ensureLength(e),this.view.setInt32(this.offset,t),this.offset+=e;}writeInt64(t){tk(t,tI.Int64,tU.Int64,"Int64");let e=BigInt(t);this.writeBigInt64(e);}writeBigInt64(t){tk(t,tI.BigInt64,tU.BigInt64,"BigInt64");let e=w.BigInt64;this.ensureLength(e),this.view.setBigInt64(this.offset,t),this.offset+=e;}writeFloat32(t){let e=w.Float32;this.ensureLength(e),this.view.setFloat32(this.offset,t),this.offset+=e;}writeFloat64(t){let e=w.Float64;this.ensureLength(e),this.view.setFloat64(this.offset,t),this.offset+=e;}writeBytes(t){let e=t.length;this.ensureLength(e),this.bytes.set(t,this.offset),this.offset+=e;}encodeString(t){let e=this.encodedStrings.get(t);if(e)return e;let r=this.encoder.encode(t);return this.encodedStrings.set(t,r),r;}writeString(t){let e=this.encodeString(t),r=e.length;this.writeUint32(r),this.writeBytes(e);}writeJson(t){let e=JSON.stringify(t);this.writeString(e);}constructor(){this.offset=0,this.bytes=new Uint8Array(ty),this.view=I(this.bytes),this.encoder=new TextEncoder,this.encodedStrings=/* @__PURE__ */new Map;}};// src/utils/typeChecks.ts
function tE(t){return Number.isFinite(t);}function tM(t){return void 0===t;}function tT(t){return null===t;}// src/code-generation/components/cms/bundled/models/DatabaseItemPointerModel.ts
var tL=class{static fromString(t){let[e,r,n]=t.split("/").map(Number);return k(tE(e),"Invalid chunkId"),k(tE(r),"Invalid offset"),k(tE(n),"Invalid length"),new tL(e,r,n);}toString(){return`${this.chunkId}/${this.offset}/${this.length}`;}static read(t){let e=t.readUint16(),r=t.readUint32(),n=t.readUint32();return new tL(e,r,n);}write(t){t.writeUint16(this.chunkId),t.writeUint32(this.offset),t.writeUint32(this.length);}compare(t){return this.chunkId<t.chunkId?-1:this.chunkId>t.chunkId?1:this.offset<t.offset?-1:this.offset>t.offset?1:(k(this.length===t.length),0);}constructor(t,e,r){this.chunkId=t,this.offset=e,this.length=r;}};// src/code-generation/components/cms/bundled/models/DatabaseValueModel.ts
import{ControlType as t_}from"framer";function tB(t){if(tT(t))return 0/* Null */;switch(t.type){case t_.Array:return 1/* Array */;case t_.Boolean:return 2/* Boolean */;case t_.Color:return 3/* Color */;case t_.Date:return 4/* Date */;case t_.Enum:return 5/* Enum */;case t_.File:return 6/* File */;case t_.ResponsiveImage:return 10/* ResponsiveImage */;case t_.Link:return 7/* Link */;case t_.Number:return 8/* Number */;case t_.Object:return 9/* Object */;case t_.RichText:return 11/* RichText */;case t_.String:return 12/* String */;default:S(t);}}function tx(t){let e=t.readUint16(),n=[];for(let i=0;i<e;i++){let e=r.read(t);n.push(e);}return{type:t_.Array,value:n};}function tC(t,e){for(let n of(t.writeUint16(e.value.length),e.value))r.write(t,n);}function tA(t,e,n){let i=t.value.length,s=e.value.length;if(i<s)return -1;if(i>s)return 1;for(let s=0;s<i;s++){let i=t.value[s],a=e.value[s],o=r.compare(i,a,n);if(0!==o)return o;}return 0;}function tF(t){return{type:t_.Boolean,value:0!==t.readUint8()};}function tP(t,e){t.writeUint8(e.value?1:0);}function tj(t,e){return t.value<e.value?-1:t.value>e.value?1:0;}function tD(t){return{type:t_.Color,value:t.readString()};}function tN(t,e){t.writeString(e.value);}function t$(t,e){return t.value<e.value?-1:t.value>e.value?1:0;}function tR(t){let e=t.readInt64(),r=new Date(e);return{type:t_.Date,value:r.toISOString()};}function tO(t,e){let r=new Date(e.value),n=r.getTime();t.writeInt64(n);}function tq(t,e){let r=new Date(t.value),n=new Date(e.value);return r<n?-1:r>n?1:0;}function tz(t){return{type:t_.Enum,value:t.readString()};}function tH(t,e){t.writeString(e.value);}function tJ(t,e){return t.value<e.value?-1:t.value>e.value?1:0;}function tW(t){return{type:t_.File,value:t.readString()};}function tG(t,e){t.writeString(e.value);}function tK(t,e){return t.value<e.value?-1:t.value>e.value?1:0;}function tV(t){return{type:t_.Link,value:t.readJson()};}function tX(t,e){t.writeJson(e.value);}function tQ(t,e){let r=JSON.stringify(t.value),n=JSON.stringify(e.value);return r<n?-1:r>n?1:0;}function tZ(t){return{type:t_.Number,value:t.readFloat64()};}function tY(t,e){t.writeFloat64(e.value);}function t1(t,e){return t.value<e.value?-1:t.value>e.value?1:0;}function t0(t){let e=t.readUint16(),n={};for(let i=0;i<e;i++){let e=t.readString();n[e]=r.read(t);}return{type:t_.Object,value:n};}function t2(t,e){let n=Object.entries(e.value);for(let[e,i]of(t.writeUint16(n.length),n))t.writeString(e),r.write(t,i);}function t6(t,e,n){let i=Object.keys(t.value).sort(),s=Object.keys(e.value).sort();if(i.length<s.length)return -1;if(i.length>s.length)return 1;for(let a=0;a<i.length;a++){let o=i[a],u=s[a];if(o<u)return -1;if(o>u)return 1;let l=t.value[o]??null,h=e.value[u]??null,f=r.compare(l,h,n);if(0!==f)return f;}return 0;}function t3(t){return{type:t_.ResponsiveImage,value:t.readJson()};}function t5(t,e){t.writeJson(e.value);}function t4(t,e){let r=JSON.stringify(t.value),n=JSON.stringify(e.value);return r<n?-1:r>n?1:0;}function t8(t){return{type:t_.RichText,value:t.readUint32()};}function t7(t,e){t.writeUint32(e.value);}function t9(t,e){let r=t.value,n=e.value;return r<n?-1:r>n?1:0;}function et(t){return{type:t_.String,value:t.readString()};}function ee(t,e){t.writeString(e.value);}function er(t,e,r){let n=t.value,i=e.value;return(0/* CaseInsensitive */===r.type&&(n=t.value.toLowerCase(),i=e.value.toLowerCase()),n<i)?-1:n>i?1:0;}(t=>{t.read=function(t){let e=t.readUint8();switch(e){case 0/* Null */:return null;case 1/* Array */:return tx(t);case 2/* Boolean */:return tF(t);case 3/* Color */:return tD(t);case 4/* Date */:return tR(t);case 5/* Enum */:return tz(t);case 6/* File */:return tW(t);case 7/* Link */:return tV(t);case 8/* Number */:return tZ(t);case 9/* Object */:return t0(t);case 10/* ResponsiveImage */:return t3(t);case 11/* RichText */:return t8(t);case 12/* String */:return et(t);default:S(e);}},t.write=function(t,e){let r=tB(e);if(t.writeUint8(r),!tT(e))switch(e.type){case t_.Array:return tC(t,e);case t_.Boolean:return tP(t,e);case t_.Color:return tN(t,e);case t_.Date:return tO(t,e);case t_.Enum:return tH(t,e);case t_.File:return tG(t,e);case t_.Link:return tX(t,e);case t_.Number:return tY(t,e);case t_.Object:return t2(t,e);case t_.ResponsiveImage:return t5(t,e);case t_.RichText:return t7(t,e);case t_.String:return ee(t,e);default:S(e);}},t.compare=function(t,e,r){let n=tB(t),i=tB(e);if(n<i)return -1;if(n>i)return 1;if(tT(t)||tT(e))return 0;switch(t.type){case t_.Array:return k(e.type===t_.Array),tA(t,e,r);case t_.Boolean:return k(e.type===t_.Boolean),tj(t,e);case t_.Color:return k(e.type===t_.Color),t$(t,e);case t_.Date:return k(e.type===t_.Date),tq(t,e);case t_.Enum:return k(e.type===t_.Enum),tJ(t,e);case t_.File:return k(e.type===t_.File),tK(t,e);case t_.Link:return k(e.type===t_.Link),tQ(t,e);case t_.Number:return k(e.type===t_.Number),t1(t,e);case t_.Object:return k(e.type===t_.Object),t6(t,e,r);case t_.ResponsiveImage:return k(e.type===t_.ResponsiveImage),t4(t,e);case t_.RichText:return k(e.type===t_.RichText),t9(t,e);case t_.String:return k(e.type===t_.String),er(t,e,r);default:S(t);}};})(r||(r={}));// src/code-generation/components/cms/bundled/models/DatabaseDictionaryIndexModel.ts
var en=class{sortEntries(){this.entries.sort((t,e)=>{for(let n=0;n<this.fieldNames.length;n++){let i=t.values[n],s=e.values[n],a=r.compare(i,s,this.options.collation);if(0!==a)return a;}return t.pointer.compare(e.pointer);});}static deserialize(t,e){e||(t=tg(t));let n=new b(t),i=n.readJson(),s=n.readUint8(),a=[];for(let t=0;t<s;t++){let t=n.readString();a.push(t);}let o=new en(a,{collation:i,cmsBackendCompression:e}),u=n.readUint32();for(let t=0;t<u;t++){let t=[];for(let e=0;e<s;e++){let e=r.read(n);t.push(e);}let e=tL.read(n);o.entries.push({values:t,pointer:e});}return o;}serialize(){let t=new tS;for(let e of(t.writeJson(this.options.collation),t.writeUint8(this.fieldNames.length),this.fieldNames))t.writeString(e);for(let e of(this.sortEntries(),t.writeUint32(this.entries.length),this.entries)){let{values:n,pointer:i}=e;for(let e of n)r.write(t,e);i.write(t);}let e=t.subarray();return this.options.cmsBackendCompression?e:tc(e);}addItem(t,e){let r=this.fieldNames.map(e=>t.getField(e)??null);this.entries.push({values:r,pointer:e});}constructor(t,e){this.fieldNames=t,this.options=e,this.entries=[];}},ei=3,es=250,ea=[408,// Request Timeout
429,// Too Many Requests
500,// Internal Server Error
502,// Bad Gateway
503,// Service Unavailable
504],eo=async(t,e)=>{let r=0;for(;;){try{let n=await fetch(t,e);if(!ea.includes(n.status)||++r>ei)return n;}catch(t){if(e?.signal?.aborted||++r>ei)throw t;}await eu(r);}};async function eu(t){let e=Math.floor(es*(Math.random()+1)*2**(t-1));await new Promise(t=>{setTimeout(t,e);});}// ../../shared/src/murmurHash.ts
function el(t){let e=3&t.length,r=t.length-e,n=0,i=0;for(;i<r;){let e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24;++i,n^=e=(65535&(e=(e=(65535&e)*3432918353+(((e>>>16)*3432918353&65535)<<16)&4294967295)<<15|e>>>17))*461845907+(((e>>>16)*461845907&65535)<<16)&4294967295,n=n<<13|n>>>19;let r=(65535&n)*5+(((n>>>16)*5&65535)<<16)&4294967295;n=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);}let s=0;return e>=3&&(s^=(255&t.charCodeAt(i+2))<<16),e>=2&&(s^=(255&t.charCodeAt(i+1))<<8),e>=1&&(s^=255&t.charCodeAt(i),n^=s=(65535&(s=(s=(65535&s)*3432918353+(((s>>>16)*3432918353&65535)<<16)&4294967295)<<15|s>>>17))*461845907+(((s>>>16)*461845907&65535)<<16)&4294967295),n^=t.length,n^=n>>>16,n=(65535&n)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(65535&n)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,(n^=n>>>16)>>>0;}// src/code-generation/components/cms/bundled/rangeRequest.old.ts
var eh=f(v()),ef="\r\n",ec="--";async function eg(t,e){let r=new URL(t),n=eS(e);r.searchParams.set("rangeHash",el(n).toString(16));let i=await eo(r,{headers:{Range:n}});if(!i.ok)throw Error(`Request failed: ${i.status} ${i.statusText}`);let s=await i.arrayBuffer(),a=new Uint8Array(s);if(200===i.status)return e.map(t=>{if(t.to>a.length)throw Error("Missing data");return a.slice(t.from,t.to);});if(206===i.status){let t=i.headers.get("Content-Type");if(!t)throw Error("Missing Content-Type header");let r=new em,n=new eh.default(t);if("multipart"===n.type&&"byteranges"===n.subtype){let t=n.parameters.get("boundary");if(!t)throw Error("Missing boundary parameter");let e=ey(a,t);for(let{headers:t,body:n}of e){let e=t.get("Content-Range");if(!e)throw Error("Missing Content-Range header");let i=ev(e);if("bytes"!==i.unit)throw Error("Unsupported unit");r.write(i.start,n);}}else{let t=i.headers.get("Content-Range");if(!t)throw Error("Missing Content-Range header");let e=ev(t);if("bytes"!==e.unit)throw Error("Unsupported unit");r.write(e.start,a);}return e.map(t=>r.read(t.from,t.to-t.from));}throw Error(`Unsupported response: ${i.status} ${i.statusText}`);}var ed=new TextEncoder,ep=new TextDecoder;function ey(t,e){let r=ed.encode(ec+e),n=eb(t,r);if(tM(n))throw Error("Missing parts start");let i=n+r.length,s=ed.encode(ef+ec+e+ec),a=eI(t,s);if(tM(a))throw Error("Missing parts end");let o=ed.encode(ef+ec+e),u=t.subarray(i,a),l=ew(u,o);return l.map(t=>{let e=ed.encode(ef+ef),r=eb(t,e);if(tM(r))throw Error("Missing headers end");let n=ed.encode(ef),i=t.subarray(0,r),s=ew(i,n),a=new Headers;for(let t of s){let e=ep.decode(t),[r,n]=e.split(": ",2);r&&n&&a.append(r,n);}let o=r+e.length,u=t.slice(o);return{headers:a,body:u};});}function ev(t){let e=RegExp("^(?<unit>\\w+) (?<start>\\d+)-(?<end>\\d+)\\/(?<size>\\d+|\\*)$","u").exec(t);if(!e||!e.groups)throw Error("Invalid Content-Range header");let{unit:r,start:n,end:i,size:s}=e.groups;return{unit:r,start:Number(n),end:Number(i),size:"*"!==s?Number(s):null};}var em=class{read(t,e){for(let r of this.chunks){if(t<r.start)break;if(t>r.end)continue;if(t+e>r.end)break;let n=t-r.start,i=n+e;return r.data.slice(n,i);}throw Error("Missing data");}write(t,e){let r=t,n=r+e.length,i=0,s=this.chunks.length;for(;i<s;i++){let t=this.chunks[i];if(k(t,"Missing chunk"),!(r>t.end)){if(r>t.start){let n=r-t.start,i=t.data.subarray(0,n);e=ek(i,e),r=t.start;}break;}}for(;s>i;s--){let t=this.chunks[s-1];if(k(t,"Missing chunk"),!(n<t.start)){if(n<t.end){let r=n-t.start,i=t.data.subarray(r);e=ek(e,i),n=t.end;}break;}}let a={start:r,end:n,data:e},o=s-i;this.chunks.splice(i,o,a);}constructor(){this.chunks=[];}};function ew(t,e){let r=[];for(;t.length>0;){let n=eb(t,e)??t.length,i=t.subarray(0,n);r.push(i),t=t.subarray(n+e.length);}return r;}function eb(t,e){for(let r=0;r<t.length-e.length;r++){let n=t.subarray(r);if(eU(n,e))return r;}}function eI(t,e){for(let r=t.length-e.length;r>=0;r--){let n=t.subarray(r);if(eU(n,e))return r;}}function eU(t,e){for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0;}function ek(t,e){let r=t.length+e.length,n=new Uint8Array(r);return n.set(t,0),n.set(e,t.length),n;}function eS(t){k(t.length>0,"Must have at least one range");let e=[...t].sort((t,e)=>t.from-e.from),r=[];for(let t of e){let e=r.length-1,n=r[e];n&&t.from<=n.to?r[e]={from:n.from,to:Math.max(n.to,t.to)}:r.push(t);}let n=r.map(t=>`${t.from}-${t.to-1}`);return`bytes=${n.join(",")}`;}// src/code-generation/components/cms/bundled/rangeRequest.ts
async function eE(t,e,r){if(!r)return eg(t,e);let n=eL(e),i=[],s=0;for(let t of n)i.push(`${t.from}-${t.to-1}`),s+=t.to-t.from;let a=new URL(t),o=i.join(",");a.searchParams.set("range",o);let u=await eo(a);if(200!==u.status)throw Error(`Request failed: ${u.status} ${u.statusText}`);let l=await u.arrayBuffer(),h=new Uint8Array(l);if(h.length!==s)throw Error("Request failed: Unexpected response length");let f=new eM,c=0;for(let t of n){let e=t.to-t.from,r=c+e,n=h.subarray(c,r);f.write(t.from,n),c=r;}return e.map(t=>f.read(t.from,t.to-t.from));}var eM=class{read(t,e){for(let r of this.chunks){if(t<r.start)break;if(t>r.end)continue;if(t+e>r.end)break;let n=t-r.start,i=n+e;return r.data.slice(n,i);}throw Error("Missing data");}write(t,e){let r=t,n=r+e.length,i=0,s=this.chunks.length;for(;i<s;i++){let t=this.chunks[i];if(k(t,"Missing chunk"),!(r>t.end)){if(r>t.start){let n=r-t.start,i=t.data.subarray(0,n);e=eT(i,e),r=t.start;}break;}}for(;s>i;s--){let t=this.chunks[s-1];if(k(t,"Missing chunk"),!(n<t.start)){if(n<t.end){let r=n-t.start,i=t.data.subarray(r);e=eT(e,i),n=t.end;}break;}}let a={start:r,end:n,data:e},o=s-i;this.chunks.splice(i,o,a);}constructor(){this.chunks=[];}};function eT(t,e){let r=t.length+e.length,n=new Uint8Array(r);return n.set(t,0),n.set(e,t.length),n;}function eL(t){k(t.length>0,"Must have at least one range");let e=[...t].sort((t,e)=>t.from-e.from),r=[];for(let t of e){let e=r.length-1,n=r[e];n&&t.from<=n.to?r[e]={from:n.from,to:Math.max(n.to,t.to)}:r.push(t);}return r;}// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
var e_=class{async loadModel(){let[t]=await eE(this.options.url,[this.options.range],this.options.cmsBackendCompression);return k(t,"Failed to load model"),en.deserialize(t,this.options.cmsBackendCompression);}async getModel(){return this.modelPromise??=this.loadModel(),this.model??=await this.modelPromise,this.model;}async lookupItems(t){k(t.length===this.fields.length,"Invalid query length");let e=await this.getModel(),r=t.reduce((t,e,r)=>t.flatMap(t=>{switch(e.type){case"All"/* All */:return[t];case"Equals"/* Equals */:return this.queryEquals(t,e,r);case"NotEquals"/* NotEquals */:return this.queryNotEquals(t,e,r);case"LessThan"/* LessThan */:return this.queryLessThan(t,e,r);case"GreaterThan"/* GreaterThan */:return this.queryGreaterThan(t,e,r);case"Contains"/* Contains */:return this.queryContains(t,e,r);case"StartsWith"/* StartsWith */:return this.queryStartsWith(t,e,r);case"EndsWith"/* EndsWith */:return this.queryEndsWith(t,e,r);default:S(e);}}),[e.entries]),n=[];for(let t of r)for(let e of t){let t={};for(let r=0;r<this.options.fieldNames.length;r++){let n=this.options.fieldNames[r],i=e.values[r];t[n]=i;}n.push({pointer:e.pointer.toString(),data:t});}return n;}queryEquals(t,e,r){let n=this.getLeftMost(t,r,e.value),i=this.getRightMost(t,r,e.value),s=t.slice(n,i+1);return s.length>0?[s]:[];}queryNotEquals(t,e,r){let n=this.getLeftMost(t,r,e.value),i=this.getRightMost(t,r,e.value),s=[],a=t.slice(0,n);a.length>0&&s.push(a);let o=t.slice(i+1);return o.length>0&&s.push(o),s;}queryLessThan(t,e,r){let n=this.getRightMost(t,r,null);if(t=t.slice(n+1),e.inclusive){let n=this.getRightMost(t,r,e.value),i=t.slice(0,n+1);return i.length>0?[i]:[];}let i=this.getLeftMost(t,r,e.value),s=t.slice(0,i);return s.length>0?[s]:[];}queryGreaterThan(t,e,r){let n=this.getRightMost(t,r,null);if(t=t.slice(n+1),e.inclusive){let n=this.getLeftMost(t,r,e.value),i=t.slice(n);return i.length>0?[i]:[];}let i=this.getRightMost(t,r,e.value),s=t.slice(i+1);return s.length>0?[s]:[];}queryContains(t,e,r){return this.findItems(t,r,t=>{if(t?.type!==U.String||e.value?.type!==U.String)return!1;let r=t.value,n=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(r=r.toLowerCase(),n=n.toLowerCase()),r.includes(n);});}queryStartsWith(t,e,r){return this.findItems(t,r,t=>{if(t?.type!==U.String||e.value?.type!==U.String)return!1;let r=t.value,n=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(r=r.toLowerCase(),n=n.toLowerCase()),r.startsWith(n);});}queryEndsWith(t,e,r){return this.findItems(t,r,t=>{if(t?.type!==U.String||e.value?.type!==U.String)return!1;let r=t.value,n=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(r=r.toLowerCase(),n=n.toLowerCase()),r.endsWith(n);});}/**
   * Returns the index of the left most entry that is equal to the target.
   *
   * ```text
   *   Left most
   *       ↓
   * ┌───┬───┬───┬───┬───┬───┐
   * │ 1 │ 2 │ 2 │ 2 │ 2 │ 3 │
   * └───┴───┴───┴───┴───┴───┘
   * ```
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the left most entry that is equal to the target.
   */getLeftMost(t,e,n){let i=0,s=t.length;for(;i<s;){let a=i+s>>1,o=t[a],u=o.values[e];0>r.compare(u,n,this.collation)?i=a+1:s=a;}return i;}/**
   * Returns the index of the right most entry that is equal to the target.
   *
   * ```text
   *              Right most
   *                   ↓
   * ┌───┬───┬───┬───┬───┬───┐
   * │ 1 │ 2 │ 2 │ 2 │ 2 │ 3 │
   * └───┴───┴───┴───┴───┴───┘
   * ```
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the right most entry that is equal to the target.
   */getRightMost(t,e,n){let i=0,s=t.length;for(;i<s;){let a=i+s>>1,o=t[a],u=o.values[e];r.compare(u,n,this.collation)>0?s=a:i=a+1;}return s-1;}/**
   * Finds all items that are matching the predicate and groups adjacent items together.
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param predicate The predicate to match the values against.
   * @returns An array of chunks that match the predicate.
   */findItems(t,e,r){let n=[],i=0;for(let s=0;s<t.length;s++){let a=t[s],o=a.values[e],u=r(o);if(!u){if(i<s){let e=t.slice(i,s);n.push(e);}i=s+1;}}if(i<t.length){let e=t.slice(i);n.push(e);}return n;}constructor(t){this.options=t,this.supportedLookupTypes=["All"/* All */,"Equals"/* Equals */,"NotEquals"/* NotEquals */,"LessThan"/* LessThan */,"GreaterThan"/* GreaterThan */,"Contains"/* Contains */,"StartsWith"/* StartsWith */,"EndsWith"/* EndsWith */],this.collation=this.options.collation;let e={},r=[];for(let t of this.options.fieldNames){let n=this.options.collectionSchema[t];k(n,"Missing definition for field",t),e[t]=n,r.push({type:"Identifier",name:t});}this.schema=e,this.fields=r;}},eB=class{static read(t,e){let n=new eB;if(e){let r=t.readUint32(),n=t.readBytes(r),i=tg(n,{dictionary:e});t=new b(i);}let i=t.readUint16();for(let e=0;e<i;e++){let e=t.readString(),i=r.read(t);n.setField(e,i);}return n;}writeUncompressed(t){for(let[e,n]of(t.writeUint16(this.fields.size),this.fields))t.writeString(e),r.write(t,n);}write(t,e){if(e){let r=new tS;this.writeUncompressed(r);let n=tc(r.subarray(),{dictionary:e});t.writeUint32(n.length),t.writeBytes(n);}else this.writeUncompressed(t);}getData(){let t={};for(let[e,r]of this.fields)t[e]=r;return t;}setField(t,e){this.fields.set(t,e);}getField(t){return this.fields.get(t);}constructor(){this.fields=/* @__PURE__ */new Map;}},ex=class{scanItems(){return this.itemsPromise??=Promise.all([eo(this.url),this.getCompressionDictionary()]).then(async([t,e])=>{if(!t.ok)throw Error(`Request failed: ${t.status} ${t.statusText}`);let r=await t.arrayBuffer(),n=new Uint8Array(r),i=new b(n),s=[],a=i.readUint32();for(let t=0;t<a;t++){let t=i.getOffset(),r=eB.read(i,e),n=i.getOffset()-t,a=new tL(this.id,t,n),o=a.toString(),u={pointer:o,data:r.getData()};this.itemLoader.prime(o,u),s.push(u);}return s;}),this.itemsPromise;}resolveItem(t){return this.itemLoader.load(t);}getCompressionDictionary(){if(!this.compressionDictionaryUrl)return null;let t=this.compressionDictionaryCache.get(this.compressionDictionaryUrl);if(t)return t;let e=eo(this.compressionDictionaryUrl).then(async t=>{if(!t.ok)throw Error(`Compression dictionary request failed: ${t.status} ${t.statusText}`);let e=await t.arrayBuffer();return new Uint8Array(e);});return this.compressionDictionaryCache.set(this.compressionDictionaryUrl,e),e;}constructor(t,e,r,n){this.id=t,this.url=e,this.compressionDictionaryUrl=r,this.compressionDictionaryCache=n,this.itemLoader=new m.default(async t=>{let e=t.map(t=>{let e=tL.fromString(t);return{from:e.offset,to:e.offset+e.length};}),[r,n]=await Promise.all([eE(this.url,e,!this.compressionDictionaryUrl),this.getCompressionDictionary()]);return r.map((e,r)=>{let i=new b(e),s=eB.read(i,n),a=t[r];return k(a,"Missing pointer"),{pointer:a,data:s.getData()};});});}},eC=class{async scanItems(){let t=await Promise.all(this.chunks.map(async t=>t.scanItems()));return t.flat();}async resolveItems(t){return Promise.all(t.map(t=>{let e=tL.fromString(t),r=this.chunks[e.chunkId];return k(r,"Missing chunk"),r.resolveItem(t);}));}compareItems(t,e){let r=tL.fromString(t.pointer),n=tL.fromString(e.pointer);return r.compare(n);}compareValues(t,e,n){return r.compare(t,e,n);}constructor(t){this.options=t,this.schema=this.options.schema,this.indexes=this.options.indexes,this.resolveRichText=this.options.resolveRichText;let e=/* @__PURE__ */new Map;this.chunks=this.options.chunks.map((t,r)=>new ex(r,t,this.options.compressionDictionary,e));}};export{eC as DatabaseCollection,e_ as DatabaseDictionaryIndex};
export const __FramerMetadata__ = {"exports":{"DatabaseDictionaryIndex":{"type":"variable","annotations":{"framerContractVersion":"1"}},"DatabaseCollection":{"type":"variable","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}